---
import Layout from "@layouts/Layout.astro";
import Header from "@layouts/Header.astro";
import Footer from "@layouts/Footer.astro";
import Crosslink from "@layouts/Crosslink.astro";

import "@styles/main.scss";
---

<script>
    import gsap from "gsap";
    import ScrollTrigger from "gsap/dist/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);
    if (!window.matchMedia("(max-width: 960px)").matches) {
        document.querySelectorAll(".imgZoom img")?.forEach((element) => {
            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: element,
                    markers: false,
                    start: "top +=70%",
                    end: "center +=65%",
                    once: false,
                    pin: false,
                    refreshPriority: 1,
                    scrub: true,
                },
            });
            tl.fromTo(
                element,
                {
                    clipPath: "polygon(25% 0%, 75% 0%, 75% 100%, 25% 100%)",
                    duration: 1,
                    ease: "power1.inOut",
                }, // Ajout de l'option ease
                { clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)" },
            );
        });
    }

    if (!window.matchMedia("(max-width: 1140px)").matches) {
        document
            .querySelectorAll(".project-more-left img")
            ?.forEach((element) => {
                const tl = gsap.timeline({
                    scrollTrigger: {
                        trigger: element,
                        markers: false,
                        start: "-00% 100%",
                        end: "+=8000px 100%",
                        once: false,
                        pin: false,
                        refreshPriority: 1,
                        scrub: true,
                    },
                });
                tl.fromTo(
                    element,
                    { x: "-200px",  }, 
                    { duration: 1, ease: "expo.out", x: "10vh", }, 
                );
            });
    }

    if (!window.matchMedia("(max-width: 1140px)").matches) {
        document
            .querySelectorAll(".project-more-right img")
            ?.forEach((element) => {
                const tl = gsap.timeline({
                    scrollTrigger: {
                        trigger: element,
                        markers: false,
                        start: "-00% 100%",
                        end: "+=800px 100%",
                        once: false,
                        pin: false,
                        refreshPriority: 1,
                        scrub: true,
                    },
                });
                tl.fromTo(
                    element,
                    { y: "-200px",opacity:0,  }, 
                    { duration: 1, ease: "expo.out", y: "10vh", opacity:1, }, 
                );
            });
    }

    if (!window.matchMedia("(max-width: 1140px)").matches) {
        document.querySelectorAll(".text-right")?.forEach((element) => {
            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: element,
                    markers: false,
                    start: "top 80%",
                    end: "+=800px 100%",
                    once: false,
                    pin: false,
                    refreshPriority: 1,
                    scrub: false,
                },
            });
            tl.fromTo(
                element,
                { y: "100px", opacity: 0 },
                { duration: 0.8, ease: "power1.out", y: "-5vh", opacity: 1 },
            );
        });
    }

    window.addEventListener("DOMContentLoaded", () => {
        const bgLoading = document.querySelector(".bg-loading");

        let timeline = gsap.timeline();

        timeline.fromTo(
            bgLoading,
            {
                clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
            },
            {
                clipPath: "polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)",
                duration: 1.5,
                delay: 1,
                ease: "power1.out",
            },
        );
    });
</script>
<Layout title="AM Créations">
    <Header />

    <div class="bg-loading">
        <h1>En savoir +</h1>
    </div>

    <div class="project-page">
        <div class="header-projects">
            <div class="header-left-project">
                <div class="bloc-title-width">
                    <h2 class="color-black">AM Créations</h2>
                    <p>
                        AM Créations est une agence spécialisée dans le design
                        et la création de sites internet. AM Créations est née
                        au cœur d'Annecy, à proximité de Genève, pour
                        accompagner les PME, TPE, clubs et associations en quête
                        de visibilité.
                    </p>
                </div>
            </div>
            <div class="header-right-project">
                <img src="/assets/images/mockup-logo.jpg" />
            </div>
        </div>
        <div class="about-project">
            <div class="text-left">
                <p class="paragraph-left">Client<br /></p><p
                    class="paragraph-left normal"
                >
                    AM Creation<br />
                </p><p class="paragraph-left normal"><br /></p><p
                    class="paragraph-left"
                >
                    year<br />
                </p><p class="paragraph-left normal">2024<br /></p><p
                    class="paragraph-left"
                >
                    <br />
                </p><p class="paragraph-left">role<br /></p><p
                    class="paragraph-left normal"
                >
                    ux design<br />ui design <br />
                </p>
            </div>

            <div class="text-right">
                <div class="ct-text-right">
                    <h2>Creation de site internet</h2>
                    <p>
                        AM Création a été conçu pour mettre en avant un site
                        internet au design soigné, avec des animations et une
                        mise en page simple offrant une immersion au défilement.
                        La navigation est intuitive, sans négliger la
                        compatibilité mobile du site.
                    </p>
                </div>
            </div>
        </div>
        <div class="imgZoom">
            <div class="contenuFullPhotoSeule">
                <div class="photoColonne">
                    <img src="/assets/images/scroll-webiste_am_creation.jpg" />
                </div>
            </div>
        </div>

        <div class="ct little-desc padding-top-big padding-bottom-big">
            <h2>Mobile-first designed</h2>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                enim ad minim veniam,
            </p>
        </div>

        <div class="project-more">
            <div class="project-more-left">
                <img src="/assets/images/mockup-am-creations.png" />
            </div>
            <div class="project-more-right">
                <img src="/assets/images/presentation-page-projet.png" />
            </div>
        </div>

        <div class="ct little-desc padding-bottom-big">
            <h2>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt
            </h2>
        </div>

        <div class="ct little-desc padding-bottom-big">
            <h2>Le resultat</h2>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                enim ad minim veniam,
            </p>
        </div>

        <div class="ct maquette">
            <img src="/assets/images/am_creations_mockup.png" />
        </div>
    </div>

    <div class="ct">
        <Layout title="Footer">
            <Footer />
        </Layout>
    </div>

    <div class="ctLarge">
        <Crosslink />
    </div>
</Layout>
